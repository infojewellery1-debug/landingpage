<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Company Profile | Employees</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Icons (optional) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />

  <style>
    :root{
      --brand:#0ABAB5; /* you can change */
      --brand-dark:#078f8b;
      --bg-soft:#f6f8fb;
    }

    body { background: var(--bg-soft); }

    .navbar-brand strong { color: var(--brand); }

    .hero {
      background: radial-gradient(1200px 600px at 10% 10%, rgba(10,186,181,.18), transparent 60%),
                  radial-gradient(1200px 600px at 90% 10%, rgba(255, 193, 7, .15), transparent 55%),
                  #ffffff;
      border: 1px solid rgba(0,0,0,.06);
    }

    .stat-card {
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 16px;
      background:#fff;
    }

    .employee-card{
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 18px;
      transition: transform .15s ease, box-shadow .15s ease;
      background: #fff;
    }
    .employee-card:hover{
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(0,0,0,.08);
    }

    .avatar{
      width:56px;height:56px;
      border-radius: 16px;
      display:flex;align-items:center;justify-content:center;
      font-weight:700;
      color:#fff;
      background: linear-gradient(135deg, var(--brand), #6f42c1);
      user-select:none;
      flex: 0 0 auto;
    }

    .badge-soft{
      background: rgba(10,186,181,.12);
      color: var(--brand-dark);
      border: 1px solid rgba(10,186,181,.18);
    }

    .muted { color: rgba(0,0,0,.6); }

    .btn-brand{
      background: var(--brand);
      border-color: var(--brand);
      color:#fff;
    }
    .btn-brand:hover{
      background: var(--brand-dark);
      border-color: var(--brand-dark);
      color:#fff;
    }

    .rounded-2xl { border-radius: 18px; }

    .chip{
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 999px;
      padding: .35rem .7rem;
      background: #fff;
      font-size: .9rem;
    }

    .footer{
      color: rgba(0,0,0,.55);
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="#">
        <span class="d-inline-flex align-items-center justify-content-center rounded-3"
              style="width:34px;height:34px;background:rgba(10,186,181,.12);border:1px solid rgba(10,186,181,.25);">
          <i class="bi bi-buildings" style="color:var(--brand)"></i>
        </span>
        <span>Company <strong>Profile</strong></span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#topNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="topNav">
        <div class="ms-auto d-flex gap-2 align-items-center">
          <span class="chip d-none d-lg-inline-flex"><i class="bi bi-shield-check me-2"></i>Internal Use</span>
          <button class="btn btn-outline-secondary btn-sm" id="btnReset">
            <i class="bi bi-arrow-counterclockwise me-1"></i> Reset
          </button>
        </div>
      </div>
    </div>
  </nav>

  <main class="container my-4 my-lg-5">
    <!-- HERO -->
    <section class="hero rounded-2xl p-4 p-lg-5 mb-4">
      <div class="row g-4 align-items-center">
        <div class="col-12 col-lg-7">
          <h1 class="display-6 mb-2">Employee Directory</h1>
          <p class="muted mb-3">
            Search employees, filter by department, and open full profiles instantly.
          </p>

          <div class="row g-2">
            <div class="col-12 col-md-7">
              <div class="input-group">
                <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
                <input type="text" class="form-control" id="searchInput"
                       placeholder="Search by name, role, skill (e.g., SEO, CAD, Designer)" />
              </div>
            </div>

            <div class="col-12 col-md-5">
              <select class="form-select" id="deptFilter">
                <option value="all">All Departments</option>
              </select>
            </div>
          </div>

          <div class="d-flex flex-wrap gap-2 mt-3">
            <span class="badge badge-soft rounded-pill" id="countBadge">0 employees</span>
            <span class="badge text-bg-light rounded-pill" id="activeFilters">No filters</span>
          </div>
        </div>

        <div class="col-12 col-lg-5">
          <div class="row g-3">
            <div class="col-6">
              <div class="stat-card p-3">
                <div class="muted small">Departments</div>
                <div class="fs-4 fw-bold" id="statDepts">0</div>
              </div>
            </div>
            <div class="col-6">
              <div class="stat-card p-3">
                <div class="muted small">Total Employees</div>
                <div class="fs-4 fw-bold" id="statEmployees">0</div>
              </div>
            </div>
            <div class="col-12">
              <div class="stat-card p-3">
                <div class="muted small">Tip</div>
                <div class="fw-semibold">Click any employee card to view full profile</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GRID -->
    <section>
      <div class="row g-3" id="employeeGrid"></div>
      <div class="text-center py-5 d-none" id="emptyState">
        <div class="display-6">ðŸ˜¶</div>
        <div class="fw-semibold mt-2">No employees found</div>
        <div class="muted">Try clearing search or switching department.</div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer text-center mt-5 py-4">
      <div class="small">Â© <span id="year"></span> Your Company Name â€¢ Employee Profile Page</div>
    </footer>
  </main>

  <!-- MODAL -->
  <div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content rounded-2xl">
        <div class="modal-header">
          <div class="d-flex align-items-center gap-3">
            <div class="avatar" id="modalAvatar">A</div>
            <div>
              <div class="h5 mb-0" id="modalName">Employee Name</div>
              <div class="muted" id="modalRole">Role</div>
            </div>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <div class="row g-3">
            <div class="col-12 col-md-6">
              <div class="p-3 border rounded-2xl bg-white">
                <div class="muted small mb-1">Department</div>
                <div class="fw-semibold" id="modalDept">â€”</div>

                <hr class="my-3" />

                <div class="muted small mb-1">Contact</div>
                <div class="d-grid gap-2">
                  <a class="btn btn-outline-secondary" id="modalEmail" href="#">
                    <i class="bi bi-envelope me-2"></i>Email
                  </a>
                  <a class="btn btn-outline-secondary" id="modalPhone" href="#">
                    <i class="bi bi-telephone me-2"></i>Call
                  </a>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <div class="p-3 border rounded-2xl bg-white h-100">
                <div class="muted small mb-2">About</div>
                <p class="mb-0" id="modalAbout">â€”</p>
              </div>
            </div>

            <div class="col-12">
              <div class="p-3 border rounded-2xl bg-white">
                <div class="d-flex align-items-center justify-content-between mb-2">
                  <div class="muted small">Skills</div>
                  <span class="badge text-bg-light rounded-pill" id="modalEmpId">ID: â€”</span>
                </div>
                <div class="d-flex flex-wrap gap-2" id="modalSkills"></div>
              </div>
            </div>

            <div class="col-12">
              <div class="p-3 border rounded-2xl bg-white">
                <div class="muted small mb-2">Responsibilities</div>
                <ul class="mb-0" id="modalResp"></ul>
              </div>
            </div>

          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-brand" data-bs-dismiss="modal">
            <i class="bi bi-check2-circle me-1"></i> Done
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ======= SAMPLE DATA (EDIT THIS) =======
    const employees = [
      {
        id: "EMP-001",
        name: "Ayesha Khan",
        role: "Graphic Designer",
        department: "Creative",
        email: "ayesha@company.com",
        phone: "+91 90000 00001",
        about: "Creates premium brand visuals, social posts, thumbnails, and product creatives.",
        skills: ["Photoshop", "Illustrator", "Canva", "Brand Design", "YouTube Thumbnails"],
        responsibilities: [
          "Design social media posts & reels covers",
          "Create banners and print creatives",
          "Maintain brand color & typography consistency"
        ]
      },
      {
        id: "EMP-002",
        name: "Rahul Mehta",
        role: "E-commerce Manager",
        department: "E-commerce",
        email: "rahul@company.com",
        phone: "+91 90000 00002",
        about: "Manages product catalog, marketplaces, and ensures clean product data operations.",
        skills: ["Shopify", "Amazon Listings", "CSV", "Inventory", "Operations"],
        responsibilities: [
          "Handle product listings & optimization",
          "Coordinate pricing and stock updates",
          "Manage marketplace compliance"
        ]
      },
      {
        id: "EMP-003",
        name: "Fatima Ali",
        role: "Digital Marketing Specialist",
        department: "Marketing",
        email: "fatima@company.com",
        phone: "+91 90000 00003",
        about: "Runs paid ads, improves SEO, and builds conversion-focused campaigns.",
        skills: ["Meta Ads", "Google Ads", "SEO", "GA4", "CAPI"],
        responsibilities: [
          "Plan and execute paid campaigns",
          "Track performance & optimize creatives",
          "Improve website conversion funnels"
        ]
      },
      {
        id: "EMP-004",
        name: "Jay Patel",
        role: "CAD & Production Coordinator",
        department: "Manufacturing",
        email: "jay@company.com",
        phone: "+91 90000 00004",
        about: "Coordinates CAD designs, production tracking, and quality checks.",
        skills: ["CAD", "Jewellery Specs", "QC", "Vendors", "Timeline Management"],
        responsibilities: [
          "Coordinate CAD approvals",
          "Track production & delivery timelines",
          "Support QC & issue resolution"
        ]
      }
    ];

    // ======= HELPERS =======
    const $ = (sel) => document.querySelector(sel);
    const employeeGrid = $("#employeeGrid");
    const searchInput = $("#searchInput");
    const deptFilter = $("#deptFilter");
    const emptyState = $("#emptyState");
    const countBadge = $("#countBadge");
    const activeFilters = $("#activeFilters");

    const profileModalEl = document.getElementById("profileModal");
    const profileModal = new bootstrap.Modal(profileModalEl);

    function initials(name){
      return name.split(" ").slice(0,2).map(w => w[0]?.toUpperCase()).join("");
    }

    function makeSkillBadge(skill){
      const span = document.createElement("span");
      span.className = "badge rounded-pill text-bg-light border";
      span.textContent = skill;
      return span;
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // ======= RENDER =======
    function renderDeptOptions(){
      const depts = [...new Set(employees.map(e => e.department))].sort();
      depts.forEach(d => {
        const opt = document.createElement("option");
        opt.value = d;
        opt.textContent = d;
        deptFilter.appendChild(opt);
      });
      $("#statDepts").textContent = depts.length;
      $("#statEmployees").textContent = employees.length;
    }

    function matchesFilters(emp, q, dept){
      const query = q.trim().toLowerCase();
      const deptOk = (dept === "all") || (emp.department === dept);

      if(!query) return deptOk;

      const hay = [
        emp.name, emp.role, emp.department,
        ...(emp.skills || []),
        ...(emp.responsibilities || [])
      ].join(" ").toLowerCase();

      return deptOk && hay.includes(query);
    }

    function renderEmployees(){
      const q = searchInput.value;
      const dept = deptFilter.value;

      const filtered = employees.filter(e => matchesFilters(e, q, dept));

      employeeGrid.innerHTML = "";
      emptyState.classList.toggle("d-none", filtered.length !== 0);

      // badges
      countBadge.textContent = `${filtered.length} employee${filtered.length === 1 ? "" : "s"}`;
      const filterText = [];
      if(q.trim()) filterText.push(`Search: "${q.trim()}"`);
      if(dept !== "all") filterText.push(`Dept: ${dept}`);
      activeFilters.textContent = filterText.length ? filterText.join(" â€¢ ") : "No filters";

      filtered.forEach(emp => {
        const col = document.createElement("div");
        col.className = "col-12 col-md-6 col-lg-4";

        col.innerHTML = `
          <div class="employee-card p-3 h-100" role="button" tabindex="0" data-id="${escapeHtml(emp.id)}">
            <div class="d-flex align-items-center gap-3">
              <div class="avatar">${escapeHtml(initials(emp.name))}</div>
              <div class="min-w-0">
                <div class="fw-semibold text-truncate">${escapeHtml(emp.name)}</div>
                <div class="muted small text-truncate">${escapeHtml(emp.role)}</div>
              </div>
            </div>

            <div class="d-flex flex-wrap gap-2 mt-3">
              <span class="badge badge-soft rounded-pill">${escapeHtml(emp.department)}</span>
              <span class="badge text-bg-light rounded-pill border">ID: ${escapeHtml(emp.id)}</span>
            </div>

            <div class="mt-3 muted small">
              ${escapeHtml(emp.about).slice(0, 95)}${emp.about.length > 95 ? "..." : ""}
            </div>

            <div class="mt-3 d-flex flex-wrap gap-2">
              ${(emp.skills || []).slice(0,3).map(s => `
                <span class="badge rounded-pill text-bg-light border">${escapeHtml(s)}</span>
              `).join("")}
              ${emp.skills.length > 3 ? `<span class="badge rounded-pill text-bg-light border">+${emp.skills.length-3} more</span>` : ""}
            </div>

            <div class="mt-3">
              <button class="btn btn-sm btn-outline-secondary w-100">
                <i class="bi bi-person-vcard me-2"></i>View Profile
              </button>
            </div>
          </div>
        `;

        // click / keyboard open
        const card = col.querySelector(".employee-card");
        card.addEventListener("click", () => openProfile(emp.id));
        card.addEventListener("keypress", (e) => {
          if(e.key === "Enter" || e.key === " ") openProfile(emp.id);
        });

        employeeGrid.appendChild(col);
      });
    }

    function openProfile(empId){
      const emp = employees.find(e => e.id === empId);
      if(!emp) return;

      $("#modalAvatar").textContent = initials(emp.name);
      $("#modalName").textContent = emp.name;
      $("#modalRole").textContent = emp.role;
      $("#modalDept").textContent = emp.department;
      $("#modalAbout").textContent = emp.about;
      $("#modalEmpId").textContent = `ID: ${emp.id}`;

      const emailBtn = $("#modalEmail");
      emailBtn.href = `mailto:${emp.email}`;
      emailBtn.innerHTML = `<i class="bi bi-envelope me-2"></i>${emp.email}`;

      const phoneBtn = $("#modalPhone");
      const cleanPhone = emp.phone.replaceAll(" ", "");
      phoneBtn.href = `tel:${cleanPhone}`;
      phoneBtn.innerHTML = `<i class="bi bi-telephone me-2"></i>${emp.phone}`;

      const skillsWrap = $("#modalSkills");
      skillsWrap.innerHTML = "";
      (emp.skills || []).forEach(s => skillsWrap.appendChild(makeSkillBadge(s)));

      const resp = $("#modalResp");
      resp.innerHTML = "";
      (emp.responsibilities || []).forEach(r => {
        const li = document.createElement("li");
        li.textContent = r;
        resp.appendChild(li);
      });

      profileModal.show();
    }

    // ======= EVENTS =======
    searchInput.addEventListener("input", renderEmployees);
    deptFilter.addEventListener("change", renderEmployees);

    $("#btnReset").addEventListener("click", () => {
      searchInput.value = "";
      deptFilter.value = "all";
      renderEmployees();
    });

    // init
    $("#year").textContent = new Date().getFullYear();
    renderDeptOptions();
    renderEmployees();
  </script>
</body>
</html>
